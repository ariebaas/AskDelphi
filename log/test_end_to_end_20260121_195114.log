INFO     root:test_end_to_end.py:75 ============================================================
INFO     root:test_end_to_end.py:76 TESTING AUTHENTICATION AND CONNECTION:
INFO     root:test_end_to_end.py:77 ============================================================
INFO     root:test_end_to_end.py:59 Waiting for mockserver at http://127.0.0.1:8000/projects/nonexistent (timeout=10s)
INFO     root:test_end_to_end.py:66 Mockserver is reachable (status=401)
INFO     root:test_end_to_end.py:83 Resetting mockserver state...
INFO     root:test_end_to_end.py:85 Mockserver reset complete
INFO     root:test_end_to_end.py:88 Test 1: Creating AskDelphiSession with valid credentials...
INFO     root:test_end_to_end.py:99 ✓ AskDelphiSession created successfully
INFO     root:test_end_to_end.py:106 Test 2: Verifying session token retrieval via AskDelphiSession...
INFO     root:test_end_to_end.py:116 ✓ Session token obtained and used successfully (404 = project not found, auth worked)
INFO     root:test_end_to_end.py:122 Test 3: Testing invalid credentials (should fail)...
INFO     askdelphi.auth:auth.py:169 IDs geparst uit CMS URL
INFO     root:test_end_to_end.py:139 ✓ Invalid credentials correctly rejected (status=401)
INFO     root:test_end_to_end.py:146 Test 4: Testing request without Authorization header (should fail)...
INFO     root:test_end_to_end.py:150 ✓ Request without auth header correctly rejected (status=401)
INFO     root:test_end_to_end.py:158 ============================================================
INFO     root:test_end_to_end.py:159 ALL AUTHENTICATION TESTS PASSED!
INFO     root:test_end_to_end.py:160 ============================================================
INFO     root:test_end_to_end.py:165 ============================================================
INFO     root:test_end_to_end.py:166 TESTING CONTENT EXPORT:
INFO     root:test_end_to_end.py:167 ============================================================
INFO     root:test_end_to_end.py:59 Waiting for mockserver at http://127.0.0.1:8000/projects/nonexistent (timeout=10s)
INFO     root:test_end_to_end.py:66 Mockserver is reachable (status=401)
INFO     root:test_end_to_end.py:173 Resetting mockserver state...
INFO     root:test_end_to_end.py:175 Mockserver reset complete
INFO     root:test_end_to_end.py:178 Setting up test data...
INFO     importer.mapper:mapper.py:38 Proces gemapt: onboard-account - Onboard nieuwe medewerker
INFO     importer.mapper:mapper.py:43 ✓ Proces gemapt naar 1 root topic met 2 kinderen
INFO     importer.importer:importer.py:28 Import gestart van 1 root topic(s)
INFO     importer.importer:importer.py:73 ✓ Topic aangemaakt: Onboard nieuwe medewerker
INFO     importer.importer:importer.py:73   ✓ Topic aangemaakt: Voorbereiding
INFO     importer.importer:importer.py:73     ✓ Topic aangemaakt: Account aanmaken
INFO     importer.importer:importer.py:73       ✓ Topic aangemaakt: Stap 1: Ga naar HR-systeem
INFO     importer.importer:importer.py:73       ✓ Topic aangemaakt: Stap 2: Vul gegevens in
INFO     importer.importer:importer.py:73     ✓ Topic aangemaakt: Werkplek voorbereiden
INFO     importer.importer:importer.py:73       ✓ Topic aangemaakt: Laptop klaarleggen
INFO     importer.importer:importer.py:73       ✓ Topic aangemaakt: Toegangspas aanmaken
INFO     importer.importer:importer.py:73   ✓ Topic aangemaakt: Eerste werkdag
INFO     importer.importer:importer.py:73     ✓ Topic aangemaakt: Welkom en rondleiding
INFO     importer.importer:importer.py:73       ✓ Topic aangemaakt: Welkom heten
INFO     importer.importer:importer.py:73       ✓ Topic aangemaakt: Rondleiding kantoor
INFO     importer.importer:importer.py:73     ✓ Topic aangemaakt: Introductie IT-systemen
INFO     importer.importer:importer.py:73       ✓ Topic aangemaakt: Email en Outlook
INFO     importer.importer:importer.py:73       ✓ Topic aangemaakt: Intranet en documenten
INFO     importer.importer:importer.py:31 Import succesvol voltooid
INFO     root:test_end_to_end.py:198 ✓ Imported 1 root topics
INFO     root:test_end_to_end.py:201 Calling export endpoint...
INFO     root:test_end_to_end.py:204 ✓ Export endpoint called successfully
INFO     root:test_end_to_end.py:210 Validating export structure...
INFO     root:test_end_to_end.py:215 ✓ Export structure is valid
INFO     root:test_end_to_end.py:222 ✓ Metadata valid (exported 15 topics)
INFO     root:test_end_to_end.py:228 ✓ Content design valid (41 topic types)
INFO     root:test_end_to_end.py:249 ✓ Relations structure valid (parent=None, children=2)
INFO     root:test_end_to_end.py:251 ✓ Topics valid (15 topics exported)
INFO     root:test_end_to_end.py:252   First topic: Onboard nieuwe medewerker
INFO     root:test_end_to_end.py:254 ============================================================
INFO     root:test_end_to_end.py:255 EXPORT TEST PASSED!
INFO     root:test_end_to_end.py:256 ============================================================
INFO     root:test_end_to_end.py:59 Waiting for mockserver at http://127.0.0.1:8000/projects/nonexistent (timeout=10s)
INFO     root:test_end_to_end.py:66 Mockserver is reachable (status=401)
INFO     root:test_end_to_end.py:265 Resetting mockserver state...
INFO     root:test_end_to_end.py:267 Mockserver reset complete
INFO     root:test_end_to_end.py:273 Loaded example JSON from C:\Users\arieb\CascadeProjects\digitalecoach_client\tests\..\procesbeschrijving\process_onboard_account.json
INFO     root:test_end_to_end.py:275 Process id=onboard-account title=Onboard nieuwe medewerker (#steps=0)
INFO     importer.mapper:mapper.py:38 Proces gemapt: onboard-account - Onboard nieuwe medewerker
INFO     importer.mapper:mapper.py:43 ✓ Proces gemapt naar 1 root topic met 2 kinderen
INFO     root:test_end_to_end.py:279 Mapped process to 1 root topic(s)
INFO     root:test_end_to_end.py:296 TOPIC TREE STRUCTURE:
[onboard-account] Onboard nieuwe medewerker (Digitale Coach Homepagina)
  ├─ [task-1] Voorbereiding (Task)
    ├─ [step-1-1] Account aanmaken (Action)
      ├─ [instr-1-1-1] Stap 1: Ga naar HR-systeem (Simple topic)
      ├─ [instr-1-1-2] Stap 2: Vul gegevens in (Simple topic)
    ├─ [step-1-2] Werkplek voorbereiden (Action)
      ├─ [instr-1-2-1] Laptop klaarleggen (Simple topic)
      ├─ [instr-1-2-2] Toegangspas aanmaken (Simple topic)
  ├─ [task-2] Eerste werkdag (Task)
    ├─ [step-2-1] Welkom en rondleiding (Action)
      ├─ [instr-2-1-1] Welkom heten (Simple topic)
      ├─ [instr-2-1-2] Rondleiding kantoor (Simple topic)
    ├─ [step-2-2] Introductie IT-systemen (Action)
      ├─ [instr-2-2-1] Email en Outlook (Simple topic)
      ├─ [instr-2-2-2] Intranet en documenten (Simple topic)
INFO     root:test_end_to_end.py:308 Created AskDelphiSession for base_url=http://127.0.0.1:8000, project_id=None
INFO     root:test_end_to_end.py:311 Starting import of topic tree into mockserver...
INFO     importer.importer:importer.py:28 Import gestart van 1 root topic(s)
INFO     importer.importer:importer.py:73 ✓ Topic aangemaakt: Onboard nieuwe medewerker
INFO     importer.importer:importer.py:73   ✓ Topic aangemaakt: Voorbereiding
INFO     importer.importer:importer.py:73     ✓ Topic aangemaakt: Account aanmaken
INFO     importer.importer:importer.py:73       ✓ Topic aangemaakt: Stap 1: Ga naar HR-systeem
INFO     importer.importer:importer.py:73       ✓ Topic aangemaakt: Stap 2: Vul gegevens in
INFO     importer.importer:importer.py:73     ✓ Topic aangemaakt: Werkplek voorbereiden
INFO     importer.importer:importer.py:73       ✓ Topic aangemaakt: Laptop klaarleggen
INFO     importer.importer:importer.py:73       ✓ Topic aangemaakt: Toegangspas aanmaken
INFO     importer.importer:importer.py:73   ✓ Topic aangemaakt: Eerste werkdag
INFO     importer.importer:importer.py:73     ✓ Topic aangemaakt: Welkom en rondleiding
INFO     importer.importer:importer.py:73       ✓ Topic aangemaakt: Welkom heten
INFO     importer.importer:importer.py:73       ✓ Topic aangemaakt: Rondleiding kantoor
INFO     importer.importer:importer.py:73     ✓ Topic aangemaakt: Introductie IT-systemen
INFO     importer.importer:importer.py:73       ✓ Topic aangemaakt: Email en Outlook
INFO     importer.importer:importer.py:73       ✓ Topic aangemaakt: Intranet en documenten
INFO     importer.importer:importer.py:31 Import succesvol voltooid
INFO     root:test_end_to_end.py:313 Import finished
INFO     root:test_end_to_end.py:320 Homepage topic check: GET /topics/onboard-account -> status=200
INFO     root:test_end_to_end.py:324 ============================================================
INFO     root:test_end_to_end.py:325 TESTING PARTS (CONTENT) MANAGEMENT:
INFO     root:test_end_to_end.py:326 ============================================================
INFO     root:test_end_to_end.py:335 Checkout topic instr-1-1-2: status=200
INFO     root:test_end_to_end.py:345 Create part customPart for topic instr-1-1-2: status=200
INFO     root:test_end_to_end.py:353 Get parts for topic instr-1-1-2: status=200, count=2
INFO     root:test_end_to_end.py:363 Update part customPart for topic instr-1-1-2: status=200
INFO     root:test_end_to_end.py:371 Delete part customPart for topic instr-1-1-2: status=200
INFO     root:test_end_to_end.py:381 Verify part deletion: remaining parts=['contentPart'] (should not contain customPart)
INFO     root:test_end_to_end.py:391 Checkin topic instr-1-1-2: status=200
INFO     root:test_end_to_end.py:395 ============================================================
INFO     root:test_end_to_end.py:396 TESTING TOPIC UPDATE:
INFO     root:test_end_to_end.py:397 ============================================================
INFO     root:test_end_to_end.py:407 Checkout topic step-1-1 for update: status=200
INFO     root:test_end_to_end.py:424 Update topic step-1-1: status=200
INFO     root:test_end_to_end.py:433 Checkin topic step-1-1 after update: status=200
INFO     root:test_end_to_end.py:442 Verify update: topic title is now 'Account aanmaken (Updated)'
INFO     root:test_end_to_end.py:446 ============================================================
INFO     root:test_end_to_end.py:447 TESTING TOPIC DELETION:
INFO     root:test_end_to_end.py:448 ============================================================
INFO     root:test_end_to_end.py:455 Delete topic instr-2-2-2: status=200
INFO     root:test_end_to_end.py:463 Verify deletion: GET /topics/instr-2-2-2 -> status=404 (should be 404)
INFO     root:test_end_to_end.py:467 ============================================================
INFO     root:test_end_to_end.py:468 TESTING PROJECT DELETION:
INFO     root:test_end_to_end.py:469 ============================================================
INFO     root:test_end_to_end.py:478 Create test project test-project-delete: status=200
INFO     root:test_end_to_end.py:486 Verify project exists: GET /projects/test-project-delete -> status=200
INFO     root:test_end_to_end.py:494 Delete project test-project-delete: status=200
INFO     root:test_end_to_end.py:502 Verify deletion: GET /projects/test-project-delete -> status=404 (should be 404)
INFO     root:test_end_to_end.py:505 ============================================================
INFO     root:test_end_to_end.py:506 ALL TESTS PASSED!
INFO     root:test_end_to_end.py:507 ============================================================
